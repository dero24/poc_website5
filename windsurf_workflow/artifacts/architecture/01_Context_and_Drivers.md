<!-- anchor: system-architecture-blueprint -->
# System Architecture Blueprint: Morphic Web

**Version:** 1.0  
**Date:** October 19, 2025  
**Generated By:** Cascade (GPT-4.1)

<!-- anchor: introduction-and-goals -->
## 1. Introduction & Goals

<!-- anchor: project-vision -->
### 1.1. Project Vision
Morphic Web is a browser-native React studio that transforms natural-language ideas into production-ready single-page applications with Groq-powered generation, instant previews, and universal export pathways.

<!-- anchor: key-objectives -->
### 1.2. Key Objectives
- **Magical UX:** Deliver frictionless prompt-to-preview flow in under 2.5 seconds with a >90% first-pass success rate.
- **Token Efficiency:** Achieve an 80%+ reduction in Groq token consumption via multi-phase planning, caching, and auto-repair.
- **Universal Export:** Provide one-click packaging to web components, desktop, and mobile bundles with consistent runtime behavior.
- **Premium Visuals:** Enforce Tailwind v4 glassmorphism, neon accents, and accessible motion-safe variants out of the box.
- **Seamless Key Handling:** Store Groq API keys locally and expose them to generated apps through a secure helper interface.

<!-- anchor: scope -->
### 1.3. Scope
- **In Scope:** Client-side React application, IndexedDB/LocalStorage persistence, Groq API integrations, in-browser preview runtime, export pipelines (web component, desktop, mobile shells), analytics dashboards, inspiration feeds, collaboration scaffolding.
- **Out of Scope:** Server-side authentication services, centralized key management, heavy backend processing, large-scale multi-tenant infrastructure beyond static hosting and optional lightweight relays.

<!-- anchor: key-assumptions -->
### 1.4. Key Assumptions
- Groq API access is available to end users with individual keys stored locally.
- Modern browsers support IndexedDB, Service Workers, and Shadow DOM.
- GitHub Pages (or equivalent static hosting) serves the SPA with HTTPS.
- CDN-hosted React, Tailwind, Framer Motion, Lucide, Recharts, Axios, Marked, and other globals remain stable and version-pinned.
- Users expect offline-ready caching of prior generations and exports.

<!-- anchor: architectural-drivers -->
## 2. Architectural Drivers

<!-- anchor: functional-requirements-summary -->
### 2.1. Functional Requirements Summary
- Natural-language prompt composer with model catalog and preference persistence.
- Multi-phase intelligent generation pipeline, auto-repair routines, and live iframe preview.
- Local persistence of versions, manifests, analytics, and collaboration metadata.
- Export flows for web components, desktop/mobile shells, and shareable preview links.
- Timeline analytics, idea inspiration feed, and optional co-editing hooks.

<!-- anchor: non-functional-requirements -->
### 2.2. Non-Functional Requirements (NFRs)
- **Performance:** Sub-2.5s generation-to-preview, 60fps UI, sub-second preview refresh.
- **Reliability:** >90% first-run success, automated validation and fallbacks, error boundaries guarding previews.
- **Security & Privacy:** Local-only API key storage, secure iframe sandboxing, sanitized code execution.
- **Maintainability:** Modular React hooks, typed models (TypeScript), documented caching and prompt templates.
- **Scalability:** Client-side heavy lifting with optional CDN/edge relay for rate limiting and analytics.
- **Accessibility:** Tailwind tokens enforcing WCAG AA contrast, keyboard navigation, motion-safe variants.

<!-- anchor: constraints-and-preferences -->
### 2.3. Constraints & Preferences
- Must run entirely client-side with optional lightweight edge relays; no centralized backend.
- Use React 18, Vite, Tailwind v4, and Groq API; prefer Stencil for web component exports.
- Hosting on GitHub Pages with SPA routing safeguards.
- Avoid over-engineering; prioritize simplicity, reliability, and token efficiency.
